<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Drug Overdoses and Possible Factors</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Roboto:400,500" rel="stylesheet">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
    <link rel="icon" type="image/png" href="favicon/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="favicon/favicon-128.png" sizes="128x128" />
</head>

<body>
    <header>
        <img src="header.jpg" />
        <h1>Drug Overdoses in America (2006 - 2016)</h1>
    </header>

    <p>Drug overdoses have been a growing epidemic in the United States dating back to the 1960s. In this research project, we focused in on drug overdoses from 2006-2016 and what factors could have lead up to overdoses. Our possible factors included poverty, unemployment, high school graduation, divorce, obesity, and prescribed drugs in each state. Each factor had an effect on drug overdose, however, there was not just one factor that was an outlier. Please look below at our data visualization. </p>

    <p>According to the data, from 2006-2016 many of the death rates were due to drug poisonings (overdose) suicide, and alcohol poisonings, and unintentional deaths.</p>

    <p>West Virginia overall had the highest drug overdoses in 2016 of 48.3 per 100,000 people</p>
    <p>One of the highest factors was in Prescription:</p>
    <ul>
        <li>In 2006, it was 130 prescriptions were prescribed per 100 people.</li>
        <li>In 2016, it was 96 prescriptions per 100 people </li>
    </ul>


    <p>North Dakota overall had the lowest drug overdoses in 2016 of 8 per 100,000 people</p>
    <p>The lowest factor was in Unemployment:</p>
    <ul>
        <li>In 2006, 3.2% of the population were unemployed</li>
        <li>In 2016, 3.1% of the population were unemployed</li>
    </ul>

    <p>One huge impact on the data is the recession which lead to a spike in all of the factors. This started in 2007-2009, where the rate of unemployment rises and housing prices decline. Many factors contribute to an economy's fall into a recession, but the major cause is inflation.</p>
    
    <p>&nbsp;</p>

    <div class="wrapper" style="overflow: visible;">
        <div class="factor-tabs-wrapper">
            <div class="factor-tab-btn factor-tab-poverty active">
                <span>Poverty</span>
            </div>
            <div class="factor-tab-btn factor-tab-unemploy">
                <span>Unemployment</span>
            </div>
            <div class="factor-tab-btn factor-tab-edu">
                <span>Education</span>
            </div>
            <div class="factor-tab-btn factor-tab-divorce">
                <span>Divorce</span>
            </div>
            <div class="factor-tab-btn factor-tab-obesity">
                <span>Obesity</span>
            </div>
            <div class="factor-tab-btn factor-tab-prescription">
                <span>Prescription</span>
            </div>
        </div>
        <div class="tabs-wrapper">
            <div id="tooltip-container"></div>
            <div class="factor-tabs factor-poverty">
                <div class="factor-tab factor-tab-2005">
                    <label>Poverty 2005<br><small>% of population</small></label>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>Poverty 2006<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Poverty 2007<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Poverty 2008<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Poverty 2009<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Poverty 2010<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Poverty 2011<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Poverty 2012<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Poverty 2013<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Poverty 2014<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Poverty 2015<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Poverty 2016<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_S1701&prodType=table">U.S. Census Bureau</a></p>
                </div>
            </div>

            <div class="factor-tabs factor-unemploy">
                <div class="factor-tab factor-tab-2005">
                    <label>Unemployment 2005<br><small>% of population</small></label>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>Unemployment 2006<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Unemployment 2007<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Unemployment 2008<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Unemployment 2009<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Unemployment 2010<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Unemployment 2011<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Unemployment 2012<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Unemployment 2013<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Unemployment 2014<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Unemployment 2015<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Unemployment 2016<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://data.bls.gov/map/MapToolServlet?survey=la&map=state&seasonal=u">U.S. Bureau of Labor Statistics</a></p>
                </div>
            </div>

            <div class="factor-tabs factor-edu">
                <div class="factor-tab factor-tab-2005">
                    <label>High School Graduates 2005<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>High School Graduates 2006<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>High School Graduates 2007<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>High School Graduates 2008<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>High School Graduates 2009<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>High School Graduates 2010<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>High School Graduates 2011<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>High School Graduates 2012<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>High School Graduates 2013<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>High School Graduates 2014<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>High School Graduates 2015<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>High School Graduates 2016<br><small>% of enrolled students</small></label>
                    <p>Source - <a target="_blank" href="https://www2.ed.gov/admins/lead/account/consolidated/index.html">U.S. Department of Education</a></p>
                </div>
            </div>

            <div class="factor-tabs factor-divorce">
                <div class="factor-tab factor-tab-2005">
                    <label>Divorce Rate 2005<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>Divorce Rate 2006<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Divorce Rate 2007<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Divorce Rate 2008<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Divorce Rate 2009<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Divorce Rate 2010<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Divorce Rate 2011<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Divorce Rate 2012<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Divorce Rate 2013<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Divorce Rate 2014<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Divorce Rate 2015<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Divorce Rate 2016<br><small>% of population</small></label>
                    <p>Source - <a target="_blank" href="https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_05_EST_S1201&prodType=table#none">U.S. Census Bureau</a></p>
                </div>
            </div>

            <div class="factor-tabs factor-obesity">
                <div class="factor-tab factor-tab-2005">
                    <label>Obesity 2005<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>Obesity 2006<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Obesity 2007<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Obesity 2008<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Obesity 2009<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Obesity 2010<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Obesity 2011<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Obesity 2012<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Obesity 2013<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Obesity 2014<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Obesity 2015<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Obesity 2016<br><small>% of adult population</small></label>
                    <p>Source - <a target="_blank" href="https://stateofobesity.org/adult-obesity/">State of Obesity</a></p>
                </div>
            </div>

            <div class="factor-tabs factor-prescription">
                <div class="factor-tab factor-tab-2006">
                    <label>Prescription 2006<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Prescription 2007<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Prescription 2008<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Prescription 2009<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Prescription 2010<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Prescription 2011<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Prescription 2012<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Prescription 2013<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Prescription 2014<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Prescription 2015<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Prescription 2016<br><small>rate per 100 persons</small></label>
                    <p>Source - <a target="_blank" href="https://www.cdc.gov/drugoverdose/maps/rxrate-maps.html">Centers for Disease Control and Prevention</a></p>
                </div>
            </div>

            <div id="slider"></div>

            <div class="factor-tabs factor-od">
                <div class="factor-tab factor-tab-2005">
                    <label>Drug Overdoses 2005<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2006">
                    <label>Drug Overdoses 2006<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2007">
                    <label>Drug Overdoses 2007<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2008">
                    <label>Drug Overdoses 2008<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2009">
                    <label>Drug Overdoses 2009<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2010">
                    <label>Drug Overdoses 2010<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2011">
                    <label>Drug Overdoses 2011<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2012">
                    <label>Drug Overdoses 2012<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2013">
                    <label>Drug Overdoses 2013<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2014">
                    <label>Drug Overdoses 2014<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2015">
                    <label>Drug Overdoses 2015<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
                <div class="factor-tab factor-tab-2016">
                    <label>Drug Overdoses 2016<br><small>rate per 100,000 persons</small></label>
                    <p>Source - <a target="_blank" href="https://wonder.cdc.gov/mcd-icd10.html">Centers for Disease Control and Prevention</a></p>
                </div>
            </div>
        </div>
        <div class="line-graph-wrapper">
            <svg class="poverty-linegraph linegraph" width="527" height="360"></svg>
            <svg class="unemploy-linegraph linegraph" width="527" height="360"></svg>
            <svg class="edu-linegraph linegraph" width="527" height="360"></svg>
            <svg class="divorce-linegraph linegraph" width="527" height="360"></svg>
            <svg class="obesity-linegraph linegraph" width="527" height="360"></svg>
            <svg class="prescription-linegraph linegraph" width="527" height="360"></svg>
            <svg class="od-linegraph linegraph" width="527" height="360"></svg>
        </div>
    </div>

    <p>&nbsp;</p>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="js/unemployment.js"></script>
    <script src="js/hs-graduates.js"></script>
    <script src="js/divorce.js"></script>
    <script src="js/obesity.js"></script>
    <script src="js/drug-od.js"></script>
    <script src="js/prescription.js"></script>
    <script src="js/poverty.js"></script>

    <script>
        $(".factor-tab-btn").click(function() {
            $(".factor-tab-btn").removeClass("active");
            $(".factor-tabs").css("display", "none");
            $(".linegraph").css("display", "none");
        });
        $(".factor-tab-poverty").click(function() {
            $(this).addClass("active");
            $(".factor-poverty").css("display", "block");
            $(".poverty-linegraph").css("display", "block");
        });
        $(".factor-tab-unemploy").click(function() {
            $(this).addClass("active");
            $(".factor-unemploy").css("display", "block");
            $(".unemploy-linegraph").css("display", "block");
        });
        $(".factor-tab-edu").click(function() {
            $(this).addClass("active");
            $(".factor-edu").css("display", "block");
            $(".edu-linegraph").css("display", "block");
        });
        $(".factor-tab-divorce").click(function() {
            $(this).addClass("active");
            $(".factor-divorce").css("display", "block");
            $(".divorce-linegraph").css("display", "block");
        });
        $(".factor-tab-obesity").click(function() {
            $(this).addClass("active");
            $(".factor-obesity").css("display", "block");
            $(".obesity-linegraph").css("display", "block");
        });
        $(".factor-tab-prescription").click(function() {
            $(this).addClass("active");
            $(".factor-prescription").css("display", "block");
            $(".prescription-linegraph").css("display", "block");
        });
    </script>
    <script>
        $("#slider").slider({
                value: 6,
                min: 6,
                max: 16,
                step: 1,
                slide: function(event, ui) {
                    //                    if (ui.value == 5) {
                    //                        $(".factor-tab").css("display", "none");
                    //                        $(".factor-tab-2005").css("display", "block");
                    //                    }
                    if (ui.value == 6) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2006").css("display", "block");
                    }
                    if (ui.value == 7) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2007").css("display", "block");
                    }
                    if (ui.value == 8) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2008").css("display", "block");
                    }
                    if (ui.value == 9) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2009").css("display", "block");
                    }
                    if (ui.value == 10) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2010").css("display", "block");
                    }
                    if (ui.value == 11) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2011").css("display", "block");
                    }
                    if (ui.value == 12) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2012").css("display", "block");
                    }
                    if (ui.value == 13) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2013").css("display", "block");
                    }
                    if (ui.value == 14) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2014").css("display", "block");
                    }
                    if (ui.value == 15) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2015").css("display", "block");
                    }
                    if (ui.value == 16) {
                        $(".factor-tab").css("display", "none");
                        $(".factor-tab-2016").css("display", "block");
                    }
                }
            })
            .each(function() {

                // Get the options for this slider
                var opt = $(this).data().uiSlider.options;

                // Get the number of possible values
                var vals = opt.max - opt.min;

                // Space out values
                for (var i = 0; i <= vals; i++) {
                    var el = $('<label>\'' + (i + 6).toLocaleString('en-US', {
                        minimumIntegerDigits: 2,
                        useGrouping: false
                    }) + '</label>').css('left', (i / vals * 100) + '%');
                    $("#slider").append(el);
                }
            });

        //Start with Poverty and 2006 on page load
        $(".factor-tab-2006").css("display", "block");
        $(".factor-poverty").css("display", "block");
        $(".poverty-linegraph").css("display", "block");
    </script>

    <!-- ANNUAL POVERTY LINEGRAPH SCRIPT -->
    <script>
        var svg_poverty_yearly = d3.select("svg.poverty-linegraph"),
            margin2 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width2 = svg_poverty_yearly.attr("width") - margin2.left - margin2.right,
            height2 = svg_poverty_yearly.attr("height") - margin2.top - margin2.bottom,
            g2 = svg_poverty_yearly.append("g").attr("transform", "translate(" + margin2.left + "," + margin2.top + ")");

        var parseTime2 = d3.timeParse("%Y");

        var x2 = d3.scaleTime().range([0, width2]),
            y2 = d3.scaleLinear().range([height2, 0]),
            z2 = d3.scaleOrdinal(d3.schemeCategory10);

        var line2 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x2(d.date);
            })
            .y(function(d) {
                return y2(d.rate);
            });

        d3.tsv("data/poverty/poverty-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states2 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x2.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y2.domain([
                d3.min(states2, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states2, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z2.domain(states2.map(function(c) {
                return c.id;
            }));

            g2.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height2 + ")")
                .call(d3.axisBottom(x2));

            g2.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y2))
                .append("text")
                .attr("y", -12)
                .attr("x", "9%")
                .attr("fill", "#000")
                .text("Poverty Rate (%)");

            var state2 = g2.selectAll()
                .data(states2)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state2.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line2(d.values);
                });

            state2.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x2(d.value.date) + "," + y2(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d2, _, columns2) {
            d2.date = parseTime2(d2.date);
            for (var i = 1, n = columns2.length, c; i < n; ++i) d2[c = columns2[i]] = +d2[c];
            return d2;
        }
    </script>
    <!-- END OF ANNUAL POVERTY LINEGRAPH SCRIPT -->

    <!-- ANNUAL UNEMPLOYMENT LINEGRAPH SCRIPT -->
    <script>
        var svg_unemploy_yearly = d3.select("svg.unemploy-linegraph"),
            margin = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width = svg_unemploy_yearly.attr("width") - margin.left - margin.right,
            height = svg_unemploy_yearly.attr("height") - margin.top - margin.bottom,
            g = svg_unemploy_yearly.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var parseTime = d3.timeParse("%Y");

        var x = d3.scaleTime().range([0, width]),
            y = d3.scaleLinear().range([height, 0]),
            z = d3.scaleOrdinal(d3.schemeCategory10);

        var line = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x(d.date);
            })
            .y(function(d) {
                return y(d.rate);
            });

        d3.tsv("data/unemployment/unemployment-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y.domain([
                d3.min(states, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z.domain(states.map(function(c) {
                return c.id;
            }));

            g.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height + ")")
                .call(d3.axisBottom(x));

            g.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y))
                .append("text")
                .attr("y", -12)
                .attr("x", "13%")
                .attr("fill", "#000")
                .text("Unemployment Rate (%)");

            var state = g.selectAll()
                .data(states)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line(d.values);
                });

            state.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x(d.value.date) + "," + y(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d, _, columns) {
            d.date = parseTime(d.date);
            for (var i = 1, n = columns.length, c; i < n; ++i) d[c = columns[i]] = +d[c];
            return d;
        }
    </script>
    <!-- END OF ANNUAL UNEMPLOYMENT LINEGRAPH SCRIPT -->

    <!-- ANNUAL HS EDUCATION LINEGRAPH SCRIPT -->
    <script>
        var svg_edu_yearly = d3.select("svg.edu-linegraph"),
            margin3 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width3 = svg_edu_yearly.attr("width") - margin3.left - margin3.right,
            height3 = svg_edu_yearly.attr("height") - margin3.top - margin3.bottom,
            g3 = svg_edu_yearly.append("g").attr("transform", "translate(" + margin3.left + "," + margin3.top + ")");

        var parseTime3 = d3.timeParse("%Y");

        var x3 = d3.scaleTime().range([0, width3]),
            y3 = d3.scaleLinear().range([height3, 0]),
            z3 = d3.scaleOrdinal(d3.schemeCategory10);

        var line3 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x3(d.date);
            })
            .y(function(d) {
                return y3(d.rate);
            });

        d3.tsv("data/hs-graduates/hs-graduates-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states3 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x3.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y3.domain([
                d3.min(states3, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states3, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z3.domain(states3.map(function(c) {
                return c.id;
            }));

            g3.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height3 + ")")
                .call(d3.axisBottom(x3));

            g3.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y3))
                .append("text")
                .attr("y", -12)
                .attr("x", "10%")
                .attr("fill", "#000")
                .text("HS Graduates (%)");

            var state3 = g3.selectAll()
                .data(states3)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state3.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line3(d.values);
                });

            state3.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x3(d.value.date) + "," + y3(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d3, _, columns3) {
            d3.date = parseTime3(d3.date);
            for (var i = 1, n = columns3.length, c; i < n; ++i) d3[c = columns3[i]] = +d3[c];
            return d3;
        }
    </script>
    <!-- END OF ANNUAL HS EDUCATION LINEGRAPH SCRIPT -->

    <!-- ANNUAL DIVORCE LINEGRAPH SCRIPT -->
    <script>
        var svg_div_yearly = d3.select("svg.divorce-linegraph"),
            margin4 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width4 = svg_div_yearly.attr("width") - margin4.left - margin4.right,
            height4 = svg_div_yearly.attr("height") - margin4.top - margin4.bottom,
            g4 = svg_div_yearly.append("g").attr("transform", "translate(" + margin4.left + "," + margin4.top + ")");

        var parseTime4 = d3.timeParse("%Y");

        var x4 = d3.scaleTime().range([0, width4]),
            y4 = d3.scaleLinear().range([height4, 0]),
            z4 = d3.scaleOrdinal(d3.schemeCategory10);

        var line4 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x4(d.date);
            })
            .y(function(d) {
                return y4(d.rate);
            });

        d3.tsv("data/divorce/divorce-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states4 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x4.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y4.domain([
                d3.min(states4, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states4, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z4.domain(states4.map(function(c) {
                return c.id;
            }));

            g4.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height4 + ")")
                .call(d3.axisBottom(x4));

            g4.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y4))
                .append("text")
                .attr("y", -12)
                .attr("x", "7%")
                .attr("fill", "#000")
                .text("Divorce Rate (%)");

            var state4 = g4.selectAll()
                .data(states4)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state4.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line4(d.values);
                });

            state4.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x4(d.value.date) + "," + y4(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d3, _, columns4) {
            d3.date = parseTime4(d3.date);
            for (var i = 1, n = columns4.length, c; i < n; ++i) d3[c = columns4[i]] = +d3[c];
            return d3;
        }
    </script>
    <!-- END OF ANNUAL DIVORCE LINEGRAPH SCRIPT -->

    <!-- ANNUAL OBESITY LINEGRAPH SCRIPT -->
    <script>
        var svg_obese_yearly = d3.select("svg.obesity-linegraph"),
            margin5 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width5 = svg_obese_yearly.attr("width") - margin5.left - margin5.right,
            height5 = svg_obese_yearly.attr("height") - margin5.top - margin5.bottom,
            g5 = svg_obese_yearly.append("g").attr("transform", "translate(" + margin5.left + "," + margin5.top + ")");

        var parseTime5 = d3.timeParse("%Y");

        var x5 = d3.scaleTime().range([0, width5]),
            y5 = d3.scaleLinear().range([height5, 0]),
            z5 = d3.scaleOrdinal(d3.schemeCategory10);

        var line5 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x5(d.date);
            })
            .y(function(d) {
                return y5(d.rate);
            });

        d3.tsv("data/obesity/obesity-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states5 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x5.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y5.domain([
                d3.min(states5, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states5, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z5.domain(states5.map(function(c) {
                return c.id;
            }));

            g5.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height5 + ")")
                .call(d3.axisBottom(x5));

            g5.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y5))
                .append("text")
                .attr("y", -12)
                .attr("x", "9%")
                .attr("fill", "#000")
                .text("Obesity Rate (%)");

            var state5 = g5.selectAll()
                .data(states5)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state5.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line5(d.values);
                });

            state5.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x5(d.value.date) + "," + y5(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d3, _, columns5) {
            d3.date = parseTime5(d3.date);
            for (var i = 1, n = columns5.length, c; i < n; ++i) d3[c = columns5[i]] = +d3[c];
            return d3;
        }
    </script>
    <!-- END OF OBESITY LINEGRAPH SCRIPT -->

    <!-- ANNUAL PRESCRIPTION LINEGRAPH SCRIPT -->
    <script>
        var svg_prescription_yearly = d3.select("svg.prescription-linegraph"),
            margin7 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width7 = svg_prescription_yearly.attr("width") - margin7.left - margin7.right,
            height7 = svg_prescription_yearly.attr("height") - margin7.top - margin7.bottom,
            g7 = svg_prescription_yearly.append("g").attr("transform", "translate(" + margin7.left + "," + margin7.top + ")");

        var parseTime7 = d3.timeParse("%Y");

        var x7 = d3.scaleTime().range([0, width7]),
            y7 = d3.scaleLinear().range([height7, 0]),
            z7 = d3.scaleOrdinal(d3.schemeCategory10);

        var line7 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x7(d.date);
            })
            .y(function(d) {
                return y7(d.rate);
            });

        d3.tsv("data/prescription/prescription-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states7 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x7.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y7.domain([
                d3.min(states7, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states7, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z7.domain(states7.map(function(c) {
                return c.id;
            }));

            g7.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height7 + ")")
                .call(d3.axisBottom(x7));

            g7.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y7))
                .append("text")
                .attr("y", -12)
                .attr("x", "9%")
                .attr("fill", "#000")
                .text("Prescription Rate");

            var state7 = g7.selectAll()
                .data(states7)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state7.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line7(d.values);
                });

            state7.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x7(d.value.date) + "," + y7(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d3, _, columns7) {
            d3.date = parseTime7(d3.date);
            for (var i = 1, n = columns7.length, c; i < n; ++i) d3[c = columns7[i]] = +d3[c];
            return d3;
        }
    </script>
    <!-- END OF OBESITY LINEGRAPH SCRIPT -->

    <!-- ANNUAL DRUG OD LINEGRAPH SCRIPT -->
    <script>
        var svg_od_yearly = d3.select("svg.od-linegraph"),
            margin6 = {
                top: 20,
                right: 60,
                bottom: 30,
                left: 35
            },
            width6 = svg_od_yearly.attr("width") - margin6.left - margin6.right,
            height6 = svg_od_yearly.attr("height") - margin6.top - margin6.bottom,
            g6 = svg_od_yearly.append("g").attr("transform", "translate(" + margin6.left + "," + margin6.top + ")");

        var parseTime6 = d3.timeParse("%Y");

        var x6 = d3.scaleTime().range([0, width6]),
            y6 = d3.scaleLinear().range([height6, 0]),
            z6 = d3.scaleOrdinal(d3.schemeCategory10);

        var line6 = d3.line()
            .curve(d3.curveBasis)
            .x(function(d) {
                return x6(d.date);
            })
            .y(function(d) {
                return y6(d.rate);
            });

        d3.tsv("data/drug-od/drug-od-yearly-data.tsv", type, function(error, data) {
            if (error) throw error;

            var states6 = data.columns.slice(1).map(function(id) {
                return {
                    id: id,
                    values: data.map(function(d) {
                        return {
                            date: d.date,
                            rate: d[id]
                        };
                    })
                };
            });

            x6.domain(d3.extent(data, function(d) {
                return d.date;
            }));

            y6.domain([
                d3.min(states6, function(c) {
                    return d3.min(c.values, function(d) {
                        return d.rate;
                    });
                }),
                d3.max(states6, function(c) {
                    return d3.max(c.values, function(d) {
                        return d.rate;
                    });
                })
            ]);

            z6.domain(states6.map(function(c) {
                return c.id;
            }));

            g6.append("g")
                .attr("class", "axis axis--x")
                .attr("transform", "translate(0," + height6 + ")")
                .call(d3.axisBottom(x6));

            g6.append("g")
                .attr("class", "axis axis--y")
                .call(d3.axisLeft(y6))
                .append("text")
                .attr("y", -12)
                .attr("x", "8%")
                .attr("fill", "#000")
                .text("Prescription Rate");

            var state6 = g6.selectAll()
                .data(states6)
                .enter().append("g")
                .attr("class", function(d) {
                    return "state " + d.id.replace(/\s+/g, '');
                });

            state6.append("path")
                .attr("class", "line")
                .attr("d", function(d) {
                    return line6(d.values);
                });

            state6.append("text")
                .datum(function(d) {
                    return {
                        id: d.id,
                        value: d.values[d.values.length - 1]
                    };
                })
                .attr("transform", function(d) {
                    return "translate(" + x6(d.value.date) + "," + y6(d.value.rate) + ")";
                })
                .attr("x", 1)
                .attr("dy", "0.35em")
                .text(function(d) {
                    return d.id;
                });
        });

        function type(d3, _, columns6) {
            d3.date = parseTime6(d3.date);
            for (var i = 1, n = columns6.length, c; i < n; ++i) d3[c = columns6[i]] = +d3[c];
            return d3;
        }
    </script>
    <!-- END OF DRUG OD LINEGRAPH SCRIPT -->

</body>

</html>